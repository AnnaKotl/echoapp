const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./admin-requests-0M47lYys.js","./adminApi-CIuLzlmh.js","./config-DF9vnxqS.js","./admin-upload-CZ34nB7S.js"])))=>i.map(i=>d[i]);
import"./styles-Bhk2jqTA.js";import{A as I}from"./config-DF9vnxqS.js";const _="modulepreload",A=function(r,e){return new URL(r,e).href},h={},p=function(e,a,s){let u=Promise.resolve();if(a&&a.length>0){let l=function(t){return Promise.all(t.map(i=>Promise.resolve(i).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const n=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),g=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));u=l(a.map(t=>{if(t=A(t,s),t in h)return;h[t]=!0;const i=t.endsWith(".css"),d=i?'[rel="stylesheet"]':"";if(!!s)for(let m=n.length-1;m>=0;m--){const f=n[m];if(f.href===t&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${d}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":_,i||(o.as="script"),o.crossOrigin="",o.href=t,g&&o.setAttribute("nonce",g),document.head.appendChild(o),i)return new Promise((m,f)=>{o.addEventListener("load",m),o.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${t}`)))})}))}function y(l){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=l,window.dispatchEvent(n),!n.defaultPrevented)throw l}return u.then(l=>{for(const n of l||[])n.status==="rejected"&&y(n.reason);return e().catch(y)})},w="adminToken",P=document.getElementById("admin-login-form"),k=document.getElementById("admin-password"),E=document.getElementById("login-error"),L=document.getElementById("admin-content"),C=document.getElementById("admin-login-container"),v=r=>new Promise(e=>setTimeout(e,r));function S(){sessionStorage.getItem(w)&&r();function r(){C.style.display="none",L.style.display="block",p(async()=>{const{initAdminRequests:e}=await import("./admin-requests-0M47lYys.js");return{initAdminRequests:e}},__vite__mapDeps([0,1,2]),import.meta.url).then(({initAdminRequests:e})=>e()),p(async()=>{const{initAdminUpload:e}=await import("./admin-upload-CZ34nB7S.js");return{initAdminUpload:e}},__vite__mapDeps([3,1,2]),import.meta.url).then(({initAdminUpload:e})=>e())}P.addEventListener("submit",async e=>{e.preventDefault();const a=k.value.trim();if(a)try{const s=await fetch(`${I}/pages/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a})});if(!s.ok)throw new Error("Invalid password");const{token:u}=await s.json();sessionStorage.setItem(w,u),await v(500),r()}catch(s){await v(500),E.style.display="block",E.textContent="ðŸš« Invalid password",console.error("ðŸš« Admin login failed:",s)}})}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("year").textContent=new Date().getFullYear(),S()});
