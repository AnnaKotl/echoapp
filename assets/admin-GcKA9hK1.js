const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./admin-requests-BlWMoKT2.js","./adminApi-g9Rm00wt.js","./config-Cew-58qn.js","./admin-upload-C3CUkJBc.js"])))=>i.map(i=>d[i]);
import"./styles-C4C_chCX.js";import{A as v}from"./config-Cew-58qn.js";const I="modulepreload",_=function(c,e){return new URL(c,e).href},h={},p=function(e,i,r){let u=Promise.resolve();if(i&&i.length>0){let a=function(t){return Promise.all(t.map(s=>Promise.resolve(s).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const n=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),g=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));u=a(i.map(t=>{if(t=_(t,r),t in h)return;h[t]=!0;const s=t.endsWith(".css"),d=s?'[rel="stylesheet"]':"";if(!!r)for(let m=n.length-1;m>=0;m--){const f=n[m];if(f.href===t&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${d}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":I,s||(o.as="script"),o.crossOrigin="",o.href=t,g&&o.setAttribute("nonce",g),document.head.appendChild(o),s)return new Promise((m,f)=>{o.addEventListener("load",m),o.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${t}`)))})}))}function y(a){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=a,window.dispatchEvent(n),!n.defaultPrevented)throw a}return u.then(a=>{for(const n of a||[])n.status==="rejected"&&y(n.reason);return e().catch(y)})},E="adminToken",A=document.getElementById("admin-login-form"),k=document.getElementById("admin-password"),w=document.getElementById("login-error"),L=document.getElementById("admin-content"),P=document.getElementById("admin-login-container");function C(){sessionStorage.getItem(E)&&c();function c(){P.style.display="none",L.style.display="block",p(async()=>{const{initAdminRequests:e}=await import("./admin-requests-BlWMoKT2.js");return{initAdminRequests:e}},__vite__mapDeps([0,1,2]),import.meta.url).then(({initAdminRequests:e})=>e()),p(async()=>{const{initAdminUpload:e}=await import("./admin-upload-C3CUkJBc.js");return{initAdminUpload:e}},__vite__mapDeps([3,1,2]),import.meta.url).then(({initAdminUpload:e})=>e())}A.addEventListener("submit",async e=>{e.preventDefault();const i=k.value.trim();if(i)try{const r=await fetch(`${v}/pages/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i})});if(!r.ok)throw new Error("Invalid password");const{token:u}=await r.json();sessionStorage.setItem(E,u),c()}catch(r){w.style.display="block",w.textContent="ðŸš« Invalid password",console.error("Admin login failed:",r)}})}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("year").textContent=new Date().getFullYear(),C()});
