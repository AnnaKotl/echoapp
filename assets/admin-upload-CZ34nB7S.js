import{u as m}from"./adminApi-CIuLzlmh.js";import"./config-DF9vnxqS.js";const f=()=>{const c=document.getElementById("uploadForm"),n=document.getElementById("iconFile"),i=document.getElementById("uploadStatus"),r=document.querySelector(".admin-preview-icons"),o=document.querySelector(".admin-preview-wrapp");o.style.display="none";let l=[];n.addEventListener("change",()=>{r.innerHTML="",l=[],n.files.length>0?(o.style.display="flex",setTimeout(()=>o.classList.add("show"),100)):(o.classList.remove("show"),setTimeout(()=>o.style.display="none",300));for(const s of n.files){const e=document.createElement("img");e.classList.add("admin-icon-preview"),e.alt=s.name;const a=new FileReader;a.onload=t=>e.src=t.target.result,a.readAsDataURL(s),r.appendChild(e),l.push({file:s,img:e})}}),c.addEventListener("submit",async s=>{if(s.preventDefault(),!n.files.length){i.textContent="⚠️ Please select at least one file.";return}i.innerHTML="";for(const{file:e,img:a}of l){const t=document.createElement("p");t.textContent=`⏳ Uploading ${e.name}...`,i.appendChild(t);try{const d=await m(e);a.src=d,t.textContent=`✅ ${e.name} uploaded successfully!`}catch(d){t.textContent=`❌ Failed to upload ${e.name}: ${d.message}`}}n.value=""})};export{f as initAdminUpload};
