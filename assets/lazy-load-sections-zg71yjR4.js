document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("scroll-button");if(e){const n=()=>{window.scrollY>1e3?(e.classList.add("visible"),e.classList.remove("hidden")):(e.classList.add("hidden"),e.classList.remove("visible"))};window.addEventListener("scroll",n),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}const t=document.querySelectorAll(".js-scroll-link");t.length>0&&t.forEach(n=>{n.addEventListener("click",i=>{i.preventDefault();const o=n.getAttribute("href"),c=document.querySelector(o);if(c){const s=c.offsetTop,m=c.offsetHeight,d=window.innerHeight,l=s+m/2-d/2;window.scrollTo({top:l,behavior:"smooth"})}n.blur()})})});const r=document.querySelector(".home-nav-container"),v=150,g=100,w=100,p=80,b=.8,f=1-b,L=200;function u(){const e=window.scrollY,t=window.matchMedia("(max-width: 799px)").matches,n=t?w:v,i=t?p:g,o=Math.min(e/L,1),c=n-o*(n-i),s=1-o*f;r.style.height=`${c}px`,r.style.transform=`translateX(-50%) scale(${s})`,e>50?r.classList.add("scrolled"):r.classList.remove("scrolled")}u();window.addEventListener("scroll",u);window.addEventListener("resize",u);document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("burger"),t=document.querySelector(".home-nav-container"),n=document.querySelector(".nav-items-container"),i=()=>{document.body.style.overflow="hidden"},o=()=>{document.body.style.overflow=""},c=()=>{t.classList.toggle("expanded")?i():o()};e.addEventListener("click",s=>{s.stopPropagation(),c()}),document.addEventListener("click",s=>{t.classList.contains("expanded")&&!t.contains(s.target)&&(t.classList.remove("expanded"),o())}),n.addEventListener("click",s=>{s.target.classList.contains("nav-link")&&(t.classList.remove("expanded"),o())})});const y=document.querySelectorAll(".nav-link");function E(){const e=window.location.pathname;y.forEach(t=>{const n=t.getAttribute("href");e==="/"&&n==="/index.html"||e===n?t.classList.add("active"):t.classList.remove("active")})}E();window.addEventListener("error",e=>{console.error("Uncaught error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise rejection:",e.reason)});document.getElementById("year").textContent=new Date().getFullYear();document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("video-based"),t=document.getElementById("video-team");function n(o){o&&(o.pause(),o.removeAttribute("autoplay"),o.removeAttribute("loop"),o.removeAttribute("src"),o.setAttribute("preload","none"),o.currentTime=0,o.style.display="none")}window.innerWidth<1224&&n(t),window.innerWidth<768&&n(e);const i=(o,c)=>{const s=document.getElementById(o);if(!s)return;new IntersectionObserver((d,l)=>{d.forEach(h=>{if(h.isIntersecting){if(!s.querySelector("source")){const a=document.createElement("source");a.src=c,a.type="video/mp4",s.appendChild(a)}s.style.display="block",s.load(),s.play().catch(()=>{}),l.disconnect()}})},{threshold:.25}).observe(s)};i("video-based","/videos/video-ios-bg.mp4"),i("video-team","/videos/video-team-bg.mp4"),document.addEventListener("visibilitychange",()=>{document.hidden&&(e==null||e.pause(),t==null||t.pause())}),window.addEventListener("pagehide",()=>{e==null||e.pause(),t==null||t.pause()})});const S=document.querySelectorAll(".lazy-section"),x=new IntersectionObserver((e,t)=>{e.forEach(n=>{n.isIntersecting&&(n.target.classList.add("visible"),t.unobserve(n.target))})},{threshold:.1});S.forEach(e=>x.observe(e));
