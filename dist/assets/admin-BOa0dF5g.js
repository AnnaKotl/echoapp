const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/admin-requests-0M47lYys.js","assets/adminApi-CIuLzlmh.js","assets/config-DF9vnxqS.js","assets/admin-upload-CZ34nB7S.js"])))=>i.map(i=>d[i]);
import"./styles-Bb2nIvin.js";import{A as v}from"./config-DF9vnxqS.js";const I="modulepreload",_=function(r){return"/"+r},f={},y=function(e,i,l){let c=Promise.resolve();if(i&&i.length>0){let s=function(n){return Promise.all(n.map(a=>Promise.resolve(a).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),u=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));c=s(i.map(n=>{if(n=_(n),n in f)return;f[n]=!0;const a=n.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${d}`))return;const o=document.createElement("link");if(o.rel=a?"stylesheet":I,a||(o.as="script"),o.crossOrigin="",o.href=n,u&&o.setAttribute("nonce",u),document.head.appendChild(o),a)return new Promise((h,w)=>{o.addEventListener("load",h),o.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${n}`)))})}))}function m(s){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=s,window.dispatchEvent(t),!t.defaultPrevented)throw s}return c.then(s=>{for(const t of s||[])t.status==="rejected"&&m(t.reason);return e().catch(m)})},g="adminToken",A=document.getElementById("admin-login-form"),P=document.getElementById("admin-password"),p=document.getElementById("login-error"),C=document.getElementById("admin-content"),L=document.getElementById("admin-login-container"),E=r=>new Promise(e=>setTimeout(e,r));function S(){sessionStorage.getItem(g)&&r();function r(){L.style.display="none",C.style.display="block",y(async()=>{const{initAdminRequests:e}=await import("./admin-requests-0M47lYys.js");return{initAdminRequests:e}},__vite__mapDeps([0,1,2])).then(({initAdminRequests:e})=>e()),y(async()=>{const{initAdminUpload:e}=await import("./admin-upload-CZ34nB7S.js");return{initAdminUpload:e}},__vite__mapDeps([3,1,2])).then(({initAdminUpload:e})=>e())}A.addEventListener("submit",async e=>{e.preventDefault();const i=P.value.trim();if(i)try{const l=await fetch(`${v}/pages/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i})});if(!l.ok)throw new Error("Invalid password");const{token:c}=await l.json();sessionStorage.setItem(g,c),await E(500),r()}catch(l){await E(500),p.style.display="block",p.textContent="ðŸš« Invalid password",console.error("ðŸš« Admin login failed:",l)}})}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("year").textContent=new Date().getFullYear(),S()});
